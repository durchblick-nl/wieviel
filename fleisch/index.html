<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fleisch- & CO2-Rechner Schweiz | wieviel.ch</title>
    <link rel="icon" type="image/svg+xml" href="../favicon.svg">
    <meta name="description" content="Berechne deinen Fleischkonsum und die CO2-Emissionen. Vergleiche mit den Schweizer Ern√§hrungsempfehlungen und erfahre dein Einsparpotenzial.">
    <link rel="canonical" href="https://wieviel.ch/fleisch/">
    <link rel="alternate" hreflang="de" href="https://wieviel.ch/fleisch/">
    <link rel="alternate" hreflang="fr" href="https://calcule.ch/viande/">
    <meta property="og:title" content="Fleisch- & CO2-Rechner Schweiz">
    <meta property="og:description" content="Berechne deinen Fleischkonsum und die CO2-Emissionen. Vergleiche mit den Schweizer Ern√§hrungsempfehlungen.">
    <meta property="og:url" content="https://wieviel.ch/fleisch/">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="de_CH">
    <meta property="og:site_name" content="wieviel.ch">
    <meta property="og:image" content="https://wieviel.ch/icons/icon-512.png">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Fleisch- & CO2-Rechner Schweiz">
    <meta name="twitter:description" content="Berechne deinen Fleischkonsum und die CO2-Emissionen.">
    <meta name="twitter:image" content="https://wieviel.ch/icons/icon-512.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Economica:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="../css/styles.css">
    <style>
        .meat-input { display: flex; align-items: center; gap: 1rem; margin: 1rem 0; padding: 1rem; background: var(--card-bg); border-radius: 12px; border: 1px solid var(--border-color); }
        .meat-icon { font-size: 2.5rem; width: 60px; text-align: center; }
        .meat-details { flex: 1; }
        .meat-details h4 { margin: 0 0 0.25rem 0; color: var(--primary-color); }
        .meat-details small { color: var(--text-color); opacity: 0.7; }
        .meat-slider { width: 100%; margin-top: 0.5rem; }
        .meat-value { font-size: 1.25rem; font-weight: bold; color: var(--secondary-color); min-width: 80px; text-align: right; font-family: 'Economica', sans-serif; }

        .results-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem; margin: 2rem 0; }
        .result-card { background: var(--card-bg); border-radius: 16px; padding: 1.5rem; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }
        .result-card h3 { color: var(--primary-color); margin: 0 0 1rem 0; font-size: 1.1rem; display: flex; align-items: center; gap: 0.5rem; }
        .result-card h3 i { opacity: 0.7; }

        .big-number { font-size: 3rem; font-weight: bold; font-family: 'Economica', sans-serif; line-height: 1; }
        .big-number.green { color: #27ae60; }
        .big-number.orange { color: #f39c12; }
        .big-number.red { color: #e74c3c; }
        .big-number small { font-size: 1rem; font-weight: normal; opacity: 0.7; }

        .comparison-bar { height: 24px; background: var(--border-color); border-radius: 12px; margin: 1rem 0; overflow: hidden; position: relative; }
        .comparison-fill { height: 100%; border-radius: 12px; transition: width 0.5s ease; }
        .comparison-fill.green { background: linear-gradient(90deg, #27ae60, #2ecc71); }
        .comparison-fill.orange { background: linear-gradient(90deg, #f39c12, #f1c40f); }
        .comparison-fill.red { background: linear-gradient(90deg, #e74c3c, #c0392b); }
        .comparison-marker { position: absolute; top: -4px; height: 32px; width: 4px; background: var(--text-color); border-radius: 2px; }
        .comparison-labels { display: flex; justify-content: space-between; font-size: 0.8rem; color: var(--text-color); opacity: 0.7; }

        .equivalents { margin-top: 1rem; }
        .equivalent-item { display: flex; align-items: center; gap: 0.75rem; padding: 0.5rem 0; border-bottom: 1px solid var(--border-color); }
        .equivalent-item:last-child { border-bottom: none; }
        .equivalent-item i { font-size: 1.25rem; width: 30px; color: var(--primary-color); }
        .equivalent-item .value { font-weight: bold; color: var(--secondary-color); }

        .savings-box { background: linear-gradient(135deg, #27ae60, #2ecc71); color: white; padding: 1.5rem; border-radius: 16px; margin-top: 1.5rem; }
        .savings-box h3 { color: white; margin: 0 0 1rem 0; }
        .savings-box .big-number { color: white; }

        .recommendation { background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); color: white; padding: 1rem; border-radius: 12px; margin-top: 1rem; }
        .recommendation strong { display: block; margin-bottom: 0.5rem; }

        .animal-count { display: flex; flex-wrap: wrap; gap: 0.5rem; margin-top: 0.5rem; }
        .animal-count span { font-size: 1.5rem; }

        .share-buttons { display: flex; gap: 0.5rem; justify-content: center; margin-top: 1.5rem; flex-wrap: wrap; }
        .share-btn { padding: 0.75rem 1.25rem; border-radius: 8px; border: none; cursor: pointer; font-size: 0.9rem; display: flex; align-items: center; gap: 0.5rem; transition: all 0.2s; }
        .share-btn.whatsapp { background: #25D366; color: white; }
        .share-btn.copy { background: var(--secondary-color); color: white; }
        .share-btn:hover { transform: translateY(-2px); }

        .swiss-average { background: var(--border-color); padding: 0.5rem 1rem; border-radius: 8px; font-size: 0.85rem; margin-top: 0.5rem; display: inline-block; }

        input[type="range"] { width: 100%; height: 8px; border-radius: 4px; background: var(--border-color); outline: none; -webkit-appearance: none; }
        input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; width: 24px; height: 24px; border-radius: 50%; background: var(--primary-color); cursor: pointer; }

        /* FAQ Styles */
        .faq-section { display: flex; flex-direction: column; gap: 0.5rem; margin-top: 1rem; }
        .faq-item { background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 8px; overflow: hidden; }
        .faq-item summary { padding: 1rem; cursor: pointer; font-weight: 600; color: var(--text-color); list-style: none; display: flex; justify-content: space-between; align-items: center; }
        .faq-item summary::-webkit-details-marker { display: none; }
        .faq-item summary::after { content: '+'; font-size: 1.25rem; color: var(--primary-color); }
        .faq-item[open] summary::after { content: '‚àí'; }
        .faq-item[open] summary { border-bottom: 1px solid var(--border-color); background: var(--light-bg); }
        .faq-item p { padding: 1rem; margin: 0; font-size: 0.95rem; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header-row">
            <button type="button" class="dark-mode-toggle" aria-label="Dunkelmodus" onclick="DarkMode.toggle()">
                <i class="fas fa-moon"></i>
            </button>
            <div class="language-switcher">
                <span class="lang-btn active">DE</span>
                <a href="https://calcule.ch/viande/" class="lang-btn">FR</a>
            </div>
        </div>

        <div class="page-header">
            <h1><span class="title-icon">ü•©</span>Fleisch- & CO2-Rechner</h1>
            <p class="page-subtitle">√ñkologischer Fussabdruck von Fleisch</p>
        </div>

        <nav class="tool-nav">
            <a href="../">Alle Tools</a>
        </nav>

        <div class="steps-container">
            <div class="step-card">
                <div class="step-icon">
                    <i class="fas fa-drumstick-bite"></i>
                    <div class="step-number">1</div>
                </div>
                <div class="step-content">
                    <h3>Konsum eingeben</h3>
                    <p>Wie viel Fleisch isst du pro Woche?</p>
                </div>
            </div>

            <div class="step-card">
                <div class="step-icon">
                    <i class="fas fa-leaf"></i>
                    <div class="step-number">2</div>
                </div>
                <div class="step-content">
                    <h3>CO2 berechnen</h3>
                    <p>Dein √∂kologischer Fussabdruck.</p>
                </div>
            </div>

            <div class="step-card">
                <div class="step-icon">
                    <i class="fas fa-chart-line"></i>
                    <div class="step-number">3</div>
                </div>
                <div class="step-content">
                    <h3>Einspar&shy;potenzial</h3>
                    <p>Was du f√ºr die Umwelt tun kannst.</p>
                </div>
            </div>
        </div>

        <div class="calculator-card">
            <h3 style="margin-top: 0;"><i class="fas fa-utensils"></i> Dein w√∂chentlicher Fleischkonsum</h3>

            <div class="meat-input">
                <div class="meat-icon">üêÑ</div>
                <div class="meat-details">
                    <h4>Rindfleisch</h4>
                    <small>Steak, Hackfleisch, Braten, Burger</small>
                    <input type="range" class="meat-slider" id="beef" min="0" max="1000" value="210" oninput="calculate()">
                    <div class="swiss-average">CH-Durchschnitt: 210g/Woche</div>
                </div>
                <div class="meat-value" id="beefValue">210g</div>
            </div>

            <div class="meat-input">
                <div class="meat-icon">üê∑</div>
                <div class="meat-details">
                    <h4>Schweine&shy;fleisch</h4>
                    <small>Schnitzel, Wurst, Speck, Schinken</small>
                    <input type="range" class="meat-slider" id="pork" min="0" max="1000" value="370" oninput="calculate()">
                    <div class="swiss-average">CH-Durchschnitt: 370g/Woche</div>
                </div>
                <div class="meat-value" id="porkValue">370g</div>
            </div>

            <div class="meat-input">
                <div class="meat-icon">üêî</div>
                <div class="meat-details">
                    <h4>Gefl√ºgel</h4>
                    <small>Poulet, Truthahn, Ente</small>
                    <input type="range" class="meat-slider" id="poultry" min="0" max="1000" value="305" oninput="calculate()">
                    <div class="swiss-average">CH-Durchschnitt: 305g/Woche</div>
                </div>
                <div class="meat-value" id="poultryValue">305g</div>
            </div>

            <div style="text-align: center; margin-top: 1.5rem; padding-top: 1rem; border-top: 2px solid var(--border-color);">
                <span style="font-size: 0.9rem; color: var(--text-color);">Gesamt pro Woche:</span>
                <div style="font-size: 2.5rem; font-weight: bold; color: var(--primary-color); font-family: 'Economica', sans-serif;" id="totalWeekly">885g</div>
            </div>
        </div>

        <div class="results-grid">
            <div class="result-card">
                <h3><i class="fas fa-cloud"></i> Dein CO2-Fussabdruck</h3>
                <div class="big-number" id="co2Total">329</div>
                <div>kg CO2 pro Jahr durch Fleisch</div>

                <div class="equivalents">
                    <div class="equivalent-item">
                        <i class="fas fa-car"></i>
                        <span>Entspricht <span class="value" id="carKm">4'200</span> km Autofahrt</span>
                    </div>
                    <div class="equivalent-item">
                        <i class="fas fa-plane"></i>
                        <span>Oder <span class="value" id="flights">2.4</span> Fl√ºge Z√ºrich‚ÄìMallorca (retour)</span>
                    </div>
                    <div class="equivalent-item">
                        <i class="fas fa-fire"></i>
                        <span>Oder <span class="value" id="heatingMonths">4</span> Monate Heizung</span>
                    </div>
                    <div class="equivalent-item">
                        <i class="fas fa-tree"></i>
                        <span><span class="value" id="trees">27</span> B√§ume m√ºssten das kompensieren</span>
                    </div>
                    <div class="equivalent-item">
                        <i class="fas fa-tint"></i>
                        <span><span class="value" id="water">95'000</span> Liter Wasser verbraucht</span>
                    </div>
                </div>
            </div>

            <div class="result-card">
                <h3><i class="fas fa-balance-scale"></i> Vergleich mit SGE-Empfehlung</h3>
                <p style="margin: 0 0 0.5rem 0;">Die Schweizerische Gesellschaft f√ºr Ern√§hrung empfiehlt max. <strong>200-360g pro Woche</strong>.</p>

                <div class="comparison-bar">
                    <div class="comparison-fill" id="comparisonFill" style="width: 50%;"></div>
                    <div class="comparison-marker" id="recommendationMarker" style="left: 30%;"></div>
                </div>
                <div class="comparison-labels">
                    <span>0g</span>
                    <span>SGE max (360g)</span>
                    <span>CH ‚åÄ (885g)</span>
                </div>

                <div class="recommendation" id="recommendation">
                    <strong><i class="fas fa-exclamation-triangle"></i> Du isst mehr als empfohlen</strong>
                    <span id="recommendationText">Dein Konsum liegt √ºber der SGE-Empfehlung von max. 360g/Woche.</span>
                </div>
            </div>

            <div class="result-card">
                <h3><i class="fas fa-piggy-bank"></i> Tiere pro Jahr</h3>
                <p style="margin: 0;">F√ºr deinen Konsum werden j√§hrlich geschlachtet:</p>

                <div style="margin: 1rem 0;">
                    <div style="display: flex; align-items: center; gap: 0.5rem; margin: 0.5rem 0;">
                        <span style="font-size: 1.5rem;">üêÑ</span>
                        <span><strong id="cowCount">0.13</strong> Rinder</span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 0.5rem; margin: 0.5rem 0;">
                        <span style="font-size: 1.5rem;">üê∑</span>
                        <span><strong id="pigCount">0.24</strong> Schweine</span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 0.5rem; margin: 0.5rem 0;">
                        <span style="font-size: 1.5rem;">üêî</span>
                        <span><strong id="chickenCount">10.6</strong> H√ºhner</span>
                    </div>
                </div>

                <div class="animal-count" id="animalIcons"></div>
            </div>

            <div class="result-card">
                <h3><i class="fas fa-seedling"></i> Wenn du kein Fleisch essen w√ºrdest...</h3>

                <div class="savings-box">
                    <h3><i class="fas fa-leaf"></i> Dein j√§hrliches Einspar&shy;potenzial</h3>
                    <div class="big-number" id="savingsCO2">329</div>
                    <div>kg CO2 weniger pro Jahr</div>

                    <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid rgba(255,255,255,0.3);">
                        <div style="display: flex; justify-content: space-around; text-align: center;">
                            <div>
                                <div style="font-size: 1.5rem; font-weight: bold;" id="savingsFlights">1.3</div>
                                <small>Fl√ºge weniger</small>
                            </div>
                            <div>
                                <div style="font-size: 1.5rem; font-weight: bold;" id="savingsAnimals">11</div>
                                <small>Tiere gerettet</small>
                            </div>
                            <div>
                                <div style="font-size: 1.5rem; font-weight: bold;" id="savingsTrees">15</div>
                                <small>B√§ume √§quivalent</small>
                            </div>
                        </div>
                    </div>
                </div>

                <p style="margin-top: 1rem; font-size: 0.9rem; opacity: 0.8;">
                    <i class="fas fa-info-circle"></i> Auch eine Reduktion hilft! Bei 50% weniger Fleisch sparst du <strong id="halfSavings">165</strong> kg CO2.
                </p>
            </div>
        </div>

        <div class="share-buttons">
            <button class="share-btn whatsapp" onclick="shareWhatsApp()">
                <i class="fab fa-whatsapp"></i> Teilen
            </button>
            <button class="share-btn copy" onclick="copyResult()">
                <i class="fas fa-copy"></i> Kopieren
            </button>
        </div>

        <div class="info-cards-container">
            <div class="info-step-card">
                <div class="step-icon"><i class="fas fa-chart-pie"></i></div>
                <div class="step-content">
                    <h3>Schweizer Fleischkonsum</h3>
                    <p>2024 wurden in der Schweiz <strong>86 Millionen Tiere</strong> geschlachtet ‚Äì ein neuer Rekord.</p>
                    <p>Pro Kopf: ~50 kg Fleisch pro Jahr, davon 19 kg Schwein, 16 kg Gefl√ºgel und 11 kg Rind.</p>
                    <p><small>Quelle: Proviande, Animal Rights Switzerland</small></p>
                </div>
            </div>
            <div class="info-step-card">
                <div class="step-icon"><i class="fas fa-apple-alt"></i></div>
                <div class="step-content">
                    <h3>SGE-Empfehlung</h3>
                    <p>Die Schweizerische Gesellschaft f√ºr Ern√§hrung empfiehlt max. <strong>2-3 Portionen Fleisch pro Woche</strong> (200-360g).</p>
                    <p>Der durchschnittliche Schweizer isst etwa <strong>3x mehr</strong> als empfohlen.</p>
                    <p><small>Quelle: BLV, SGE Lebensmittelpyramide 2024</small></p>
                </div>
            </div>
        </div>

        <section class="seo-content">
            <h3>H√§ufige Fragen zu Fleisch&shy;konsum und CO2</h3>
            <div class="faq-section">
                <details class="faq-item">
                    <summary>Wie viel Fleisch isst ein Schweizer pro Jahr?</summary>
                    <p>Der durchschnittliche Schweizer konsumiert etwa <strong>50kg Fleisch pro Jahr</strong>. Das entspricht ca. 1kg pro Woche. Die Schweizerische Gesellschaft f√ºr Ern√§hrung (SGE) empfiehlt jedoch nur <strong>2-3 Portionen</strong> (200-360g) pro Woche.</p>
                </details>
                <details class="faq-item">
                    <summary>Welches Fleisch hat die schlechteste CO2-Bilanz?</summary>
                    <p><strong>Rindfleisch</strong> hat mit etwa 25kg CO2 pro kg Fleisch die h√∂chste Klimabelastung. Zum Vergleich: Schweine&shy;fleisch verursacht ca. 8kg CO2/kg, Gefl√ºgel nur etwa 5kg CO2/kg.</p>
                </details>
                <details class="faq-item">
                    <summary>Wie viel CO2 spare ich als Vegetarier?</summary>
                    <p>Wer komplett auf Fleisch verzichtet, spart durchschnittlich <strong>300-400kg CO2 pro Jahr</strong> ‚Äì das entspricht etwa einer Flugreise Z√ºrich-Mallorca oder 2'000-3'000 Autokilometern.</p>
                </details>
                <details class="faq-item">
                    <summary>Ist Bio-Fleisch besser f√ºr die Umwelt?</summary>
                    <p>Bio-Fleisch hat eine <strong>√§hnliche CO2-Bilanz</strong> wie konventionelles Fleisch, da die Tiere l√§nger leben und mehr Futter brauchen. Vorteile liegen eher bei Tierwohl, Antibiotika-Verzicht und Boden&shy;gesundheit.</p>
                </details>
            </div>
        </section>
    </div>

    <footer class="site-footer">
        <div class="footer-content">
            <p><a href="https://durchblick.nl" target="_blank">Durchblick Consultancy BV</a></p>
            <p class="footer-disclaimer">Alle Angaben ohne Gew√§hr. CO2-Werte basieren auf Durchschnittswerten.</p>
            <p class="footer-privacy">Alle Berechnungen erfolgen lokal. Keine Daten werden gespeichert.</p>
        </div>
    </footer>

    <script>
        // CO2 per kg meat (kg CO2e) - Schweizer Werte von energie-umwelt.ch
        const CO2_PER_KG = {
            beef: 25,      // Rindfleisch (CH: 25-34 kg, konservativ 25)
            pork: 8,       // Schweinefleisch
            poultry: 5     // Gefl√ºgel
        };

        // Water per kg meat (liters)
        const WATER_PER_KG = {
            beef: 15400,   // Rindfleisch
            pork: 6000,    // Schweinefleisch
            poultry: 4300  // Gefl√ºgel
        };

        // Meat yield per animal (kg edible meat)
        const MEAT_PER_ANIMAL = {
            beef: 250,     // ~250kg per cow
            pork: 80,      // ~80kg per pig
            poultry: 1.5   // ~1.5kg per chicken
        };

        // SGE recommendation
        const SGE_MAX_WEEKLY = 360; // grams
        const SWISS_AVG_WEEKLY = 885; // grams

        // Equivalents
        const CO2_PER_FLIGHT_ZH_LONDON = 250; // kg CO2 return flight
        const CO2_PER_FLIGHT_ZH_MALLORCA = 340; // kg CO2 return flight
        const CO2_PER_CAR_KM = 0.14; // kg CO2 per km (Durchschnittsauto)
        const CO2_PER_TREE_YEAR = 22; // kg CO2 absorbed by tree per year
        const CO2_HEATING_MONTH = 150; // kg CO2 f√ºr Heizung pro Monat

        function calculate() {
            const beef = parseInt(document.getElementById('beef').value);
            const pork = parseInt(document.getElementById('pork').value);
            const poultry = parseInt(document.getElementById('poultry').value);

            // Update display values
            document.getElementById('beefValue').textContent = beef + 'g';
            document.getElementById('porkValue').textContent = pork + 'g';
            document.getElementById('poultryValue').textContent = poultry + 'g';

            const totalWeekly = beef + pork + poultry;
            document.getElementById('totalWeekly').textContent = totalWeekly + 'g';

            // Calculate yearly values (in kg)
            const beefYearly = (beef * 52) / 1000;
            const porkYearly = (pork * 52) / 1000;
            const poultryYearly = (poultry * 52) / 1000;

            // CO2 calculations
            const co2Beef = beefYearly * CO2_PER_KG.beef;
            const co2Pork = porkYearly * CO2_PER_KG.pork;
            const co2Poultry = poultryYearly * CO2_PER_KG.poultry;
            const co2Total = co2Beef + co2Pork + co2Poultry;

            // Update CO2 display
            document.getElementById('co2Total').textContent = Math.round(co2Total);
            document.getElementById('co2Total').className = 'big-number ' + (co2Total < 250 ? 'green' : co2Total < 500 ? 'orange' : 'red');

            // Water calculation
            const waterBeef = beefYearly * WATER_PER_KG.beef;
            const waterPork = porkYearly * WATER_PER_KG.pork;
            const waterPoultry = poultryYearly * WATER_PER_KG.poultry;
            const waterTotal = waterBeef + waterPork + waterPoultry;

            // Equivalents
            const flights = co2Total / CO2_PER_FLIGHT_ZH_MALLORCA;
            const carKm = co2Total / CO2_PER_CAR_KM;
            const trees = co2Total / CO2_PER_TREE_YEAR;
            const heatingMonths = co2Total / CO2_HEATING_MONTH;

            document.getElementById('flights').textContent = flights.toFixed(1);
            document.getElementById('carKm').textContent = Math.round(carKm).toLocaleString('de-CH');
            document.getElementById('trees').textContent = Math.round(trees);
            document.getElementById('heatingMonths').textContent = heatingMonths.toFixed(1);
            document.getElementById('water').textContent = Math.round(waterTotal).toLocaleString('de-CH');

            // Animal counts
            const cows = beefYearly / MEAT_PER_ANIMAL.beef;
            const pigs = porkYearly / MEAT_PER_ANIMAL.pork;
            const chickens = poultryYearly / MEAT_PER_ANIMAL.poultry;

            document.getElementById('cowCount').textContent = cows.toFixed(2);
            document.getElementById('pigCount').textContent = pigs.toFixed(2);
            document.getElementById('chickenCount').textContent = chickens.toFixed(1);

            // Animal icons
            const animalIcons = document.getElementById('animalIcons');
            let icons = '';
            for (let i = 0; i < Math.min(Math.round(chickens), 20); i++) icons += 'üêî';
            if (Math.round(chickens) > 20) icons += '...';
            animalIcons.innerHTML = icons;

            // Comparison bar
            const percentage = Math.min((totalWeekly / SWISS_AVG_WEEKLY) * 100, 100);
            const fill = document.getElementById('comparisonFill');
            fill.style.width = percentage + '%';
            fill.className = 'comparison-fill ' + (totalWeekly <= SGE_MAX_WEEKLY ? 'green' : totalWeekly <= 600 ? 'orange' : 'red');

            // SGE marker position (360g = ~40% of 885g average)
            const markerPos = (SGE_MAX_WEEKLY / SWISS_AVG_WEEKLY) * 100;
            document.getElementById('recommendationMarker').style.left = markerPos + '%';

            // Recommendation text
            const rec = document.getElementById('recommendation');
            const recText = document.getElementById('recommendationText');
            if (totalWeekly <= SGE_MAX_WEEKLY) {
                rec.style.background = 'linear-gradient(135deg, #27ae60, #2ecc71)';
                rec.innerHTML = '<strong><i class="fas fa-check-circle"></i> Super! Du isst im empfohlenen Bereich</strong><span>Dein Konsum liegt innerhalb der SGE-Empfehlung von max. 360g/Woche.</span>';
            } else if (totalWeekly <= 600) {
                rec.style.background = 'linear-gradient(135deg, #f39c12, #f1c40f)';
                rec.innerHTML = '<strong><i class="fas fa-exclamation-circle"></i> Leicht √ºber der Empfehlung</strong><span>Dein Konsum liegt etwas √ºber der SGE-Empfehlung. Eine kleine Reduktion w√§re gut.</span>';
            } else {
                rec.style.background = 'linear-gradient(135deg, #e74c3c, #c0392b)';
                rec.innerHTML = '<strong><i class="fas fa-exclamation-triangle"></i> Deutlich √ºber der Empfehlung</strong><span>Dein Konsum liegt ' + Math.round((totalWeekly / SGE_MAX_WEEKLY - 1) * 100) + '% √ºber der SGE-Empfehlung.</span>';
            }

            // Savings
            document.getElementById('savingsCO2').textContent = Math.round(co2Total);
            document.getElementById('savingsFlights').textContent = flights.toFixed(1);
            document.getElementById('savingsAnimals').textContent = Math.round(cows + pigs + chickens);
            document.getElementById('savingsTrees').textContent = Math.round(trees);
            document.getElementById('halfSavings').textContent = Math.round(co2Total / 2);
        }

        function getShareText() {
            const co2 = document.getElementById('co2Total').textContent;
            const weekly = document.getElementById('totalWeekly').textContent;
            const flights = document.getElementById('flights').textContent;

            return `ü•© Mein Fleischkonsum: ${weekly}/Woche\nüåç CO2-Fussabdruck: ${co2} kg/Jahr\n‚úàÔ∏è Das entspricht ${flights} Fl√ºgen Z√ºrich-London\n\nBerechnet mit wieviel.ch/fleisch`;
        }

        function shareWhatsApp() {
            window.open('https://wa.me/?text=' + encodeURIComponent(getShareText()), '_blank');
        }

        function copyResult() {
            navigator.clipboard.writeText(getShareText()).then(() => {
                const btn = document.querySelector('.share-btn.copy');
                btn.innerHTML = '<i class="fas fa-check"></i> Kopiert!';
                setTimeout(() => btn.innerHTML = '<i class="fas fa-copy"></i> Kopieren', 2000);
            });
        }

        const DarkMode = {
            STORAGE_KEY: 'darkMode',
            init() {
                const saved = localStorage.getItem(this.STORAGE_KEY);
                if (saved === 'true' || (saved === null && window.matchMedia('(prefers-color-scheme: dark)').matches)) this.enable(false);
                this.updateButton();
            },
            enable(save = true) { document.documentElement.setAttribute('data-theme', 'dark'); if (save) localStorage.setItem(this.STORAGE_KEY, 'true'); this.updateButton(); },
            disable(save = true) { document.documentElement.removeAttribute('data-theme'); if (save) localStorage.setItem(this.STORAGE_KEY, 'false'); this.updateButton(); },
            toggle() { document.documentElement.getAttribute('data-theme') === 'dark' ? this.disable() : this.enable(); },
            updateButton() { const btn = document.querySelector('.dark-mode-toggle i'); if (btn) btn.className = document.documentElement.getAttribute('data-theme') === 'dark' ? 'fas fa-sun' : 'fas fa-moon'; }
        };
        DarkMode.init();
        calculate();
    </script>
</body>
</html>
