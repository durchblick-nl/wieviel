{{ printf "<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?>" | safeHTML }}
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"
        xmlns:xhtml="http://www.w3.org/1999/xhtml">
  {{- range .Data.Pages }}
  {{- if not .Params.noindex }}
  <url>
    {{- $domain := "https://wieviel.ch" }}
    {{- if eq .Language.Lang "fr" }}
      {{- $domain = "https://calcule.ch" }}
    {{- end }}
    {{- $path := .RelPermalink }}
    {{- if eq .Language.Lang "de" }}
      {{- $path = strings.TrimPrefix "/de" $path }}
    {{- else if eq .Language.Lang "fr" }}
      {{- $path = strings.TrimPrefix "/fr" $path }}
    {{- end }}
    <loc>{{ $domain }}{{ $path }}</loc>
    {{- if .Lastmod }}
    <lastmod>{{ .Lastmod.Format "2006-01-02" }}</lastmod>
    {{- end }}
    {{- with .Translations }}
    {{- range . }}
    {{- $altDomain := "https://wieviel.ch" }}
    {{- if eq .Language.Lang "fr" }}
      {{- $altDomain = "https://calcule.ch" }}
    {{- end }}
    {{- $altPath := .RelPermalink }}
    {{- if eq .Language.Lang "de" }}
      {{- $altPath = strings.TrimPrefix "/de" $altPath }}
    {{- else if eq .Language.Lang "fr" }}
      {{- $altPath = strings.TrimPrefix "/fr" $altPath }}
    {{- end }}
    <xhtml:link rel="alternate" hreflang="{{ .Language.Lang }}" href="{{ $altDomain }}{{ $altPath }}" />
    {{- end }}
    {{- end }}
    <changefreq>monthly</changefreq>
    <priority>{{ if .IsHome }}1.0{{ else }}0.8{{ end }}</priority>
  </url>
  {{- end }}
  {{- end }}
</urlset>
